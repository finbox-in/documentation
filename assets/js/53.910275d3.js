(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{343:function(t,e,s){"use strict";s.r(e);var a=s(7),r=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"finbox-lending-web"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#finbox-lending-web"}},[t._v("#")]),t._v(" FinBox Lending: Web")]),t._v(" "),e("p",[t._v("FinBox Lending SDK is a drop-in module that can add a digital lending journey to any mobile or web application.")]),t._v(" "),e("h2",{attrs:{id:"workflow"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#workflow"}},[t._v("#")]),t._v(" Workflow")]),t._v(" "),e("p",[t._v("The flow for web SDK involves following steps:")]),t._v(" "),e("ul",[e("li",[t._v("Create a user using "),e("RouterLink",{attrs:{to:"/middleware/sourcing-rest-api.html#create-user"}},[t._v("Create User")]),t._v(" API (One Time)")],1),t._v(" "),e("li",[t._v("Get Eligibility of the user using "),e("RouterLink",{attrs:{to:"/middleware/sourcing-rest-api.html#get-eligibility"}},[t._v("Get Eligibility")]),t._v(" API (One time)")],1)]),t._v(" "),e("p",[t._v("Now everytime user initiates/resumes their lending journey by clicking on a banner/button on your app/website:")]),t._v(" "),e("ul",[e("li",[t._v("Call the "),e("a",{attrs:{href:"#session-api"}},[t._v("Session API")]),t._v(" to get the URL, which can be rendered in a web view, or can be redirected to")]),t._v(" "),e("li",[t._v("Once user completes the journey they are redirected to the specified URL.")])]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),e("ul",[e("li",[t._v("All the above APIs are called at server side.")]),t._v(" "),e("li",[e("RouterLink",{attrs:{to:"/middleware/sourcing-rest-api.html#webhook"}},[t._v("Webhook")]),t._v(" can be configured to get updates about the loan applications.")],1)])]),t._v(" "),e("h2",{attrs:{id:"session-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#session-api"}},[t._v("#")]),t._v(" Session API")]),t._v(" "),e("p",[t._v("To start with the integration, call the following API to create a user session:")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Endpoint")]),t._v(" "),e("p",[t._v("POST "),e("strong",[e("code",[t._v("base_url")]),t._v("/v1/user/session")])])]),t._v(" "),e("h3",{attrs:{id:"authentication"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#authentication"}},[t._v("#")]),t._v(" Authentication")]),t._v(" "),e("p",[t._v("This API require a "),e("strong",[t._v("Server API Key")]),t._v(" to be passed in "),e("code",[t._v("x-api-key")]),t._v(" "),e("strong",[t._v("header")]),t._v(". This API Key will be shared directly by FinBox along with "),e("code",[t._v("base_url")]),t._v(". Make sure this key is not exposed in any of your client side applications.")]),t._v(" "),e("h3",{attrs:{id:"request-format"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#request-format"}},[t._v("#")]),t._v(" Request Format")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"customerID"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"somecustomerid"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"redirectURL"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://yoururl/redirect/to/after/user/exits"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),e("ul",[e("li",[t._v("Once the user exits the loan journey at any point, the SDK will redirect to the above specified URL")]),t._v(" "),e("li",[t._v("Make sure this API is called only when the user is created and eligibility is fetched.")])])]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("Tracking Source")]),t._v(" "),e("p",[t._v("In case you are using same API key across different platforms, and want to track the source of the user, also pass a string field "),e("code",[t._v("source")]),t._v(" in the request body, indicating a unique source from which the user is accessing the SDK from.")])]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("Hide Close Button")]),t._v(" "),e("p",[t._v("In case you want to hide the close button from the sdk navbar you can pass a boolean field "),e("code",[t._v("hideClose")]),t._v(" with value "),e("code",[t._v("true")]),t._v(".")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  “customerID”"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" “somecustomerid”"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  “hideClose”"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),e("h3",{attrs:{id:"response"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#response"}},[t._v("#")]),t._v(" Response")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://lendingwebuat.finbox.in/session/167af08b-b33f-47f3"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"error"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("Use "),e("code",[t._v("url")]),t._v(" to open up the Lending SDK. This URL can be:")]),t._v(" "),e("ul",[e("li",[t._v("rendered in a mobile Web View")]),t._v(" "),e("li",[t._v("opened in a new tab or current window.")])]),t._v(" "),e("h3",{attrs:{id:"error-cases"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#error-cases"}},[t._v("#")]),t._v(" Error Cases")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Case")]),t._v(" "),e("th",[t._v("HTTP Code")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("Missing customerID")]),t._v(" "),e("td",[t._v("403")])]),t._v(" "),e("tr",[e("td",[t._v("Missing redirectURL")]),t._v(" "),e("td",[t._v("403")])]),t._v(" "),e("tr",[e("td",[t._v("User does not exist")]),t._v(" "),e("td",[t._v("404")])]),t._v(" "),e("tr",[e("td",[t._v("User eligibility not available")]),t._v(" "),e("td",[t._v("400")])]),t._v(" "),e("tr",[e("td",[t._v("User not eligible for loan")]),t._v(" "),e("td",[t._v("403")])])])]),t._v(" "),e("h2",{attrs:{id:"integrating-deviceconnect"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#integrating-deviceconnect"}},[t._v("#")]),t._v(" Integrating DeviceConnect")]),t._v(" "),e("p",[t._v("Web SDK holds the entire lending journey without capturing any user device information (alternate data). Loan approval rate depends on the data that is available, to boost the approval rate of a customer without any bureau data we recommend the use of "),e("strong",[t._v("DeviceConnect")]),t._v(".")]),t._v(" "),e("p",[t._v("We support DeviceConnect integration for the following platforms. Please refer the integration doc for the same below:")]),t._v(" "),e("ol",[e("li",[e("a",{attrs:{href:"https://docs.finbox.in/device-connect/android.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Android SDK | FinBox Documentation"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://docs.finbox.in/device-connect/react-native.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("React Native | FinBox Documentation"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://docs.finbox.in/device-connect/cordova.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cordova | FinBox Documentation"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"credit-line"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#credit-line"}},[t._v("#")]),t._v(" Credit Line")]),t._v(" "),e("p",[t._v("In case of credit line, once the lending journey is completed, user can opt-in for a credit while doing a transaction.For such a case use the "),e("strong",[t._v("Session API")]),t._v(" with two extra inputs "),e("code",[t._v("withdrawAmount")]),t._v(" and "),e("code",[t._v("transactionID")]),t._v(".")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Endpoint")]),t._v(" "),e("p",[t._v("POST "),e("strong",[e("code",[t._v("base_url")]),t._v("/v1/user/session")])])]),t._v(" "),e("h3",{attrs:{id:"request-format-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#request-format-2"}},[t._v("#")]),t._v(" Request Format")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"customerID"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"somecustomerid"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"redirectURL"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://yoururl/redirect/to/after/user/exits"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"withdrawAmount"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("18000")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"transactionID"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"some_txn_id"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("ul",[e("li",[e("code",[t._v("withdrawAmount")]),t._v(" is the amount (in "),e("strong",[t._v("Float")]),t._v(") that the user is trying to withdraw.")]),t._v(" "),e("li",[e("code",[t._v("transactionID")]),t._v(" is the transaction ID (in "),e("strong",[t._v("String")]),t._v(") for the withdrawal.")])]),t._v(" "),e("h3",{attrs:{id:"error-cases-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#error-cases-2"}},[t._v("#")]),t._v(" Error Cases")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Case")]),t._v(" "),e("th",[t._v("HTTP Code")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("transactionID already exists")]),t._v(" "),e("td",[t._v("409")])])])]),t._v(" "),e("h2",{attrs:{id:"events"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#events"}},[t._v("#")]),t._v(" Events")]),t._v(" "),e("p",[t._v("Some events are given by the SDK when user exits the SDK , application completed ...etc.")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Event")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("APPLICATION_COMPLETED")]),t._v(" "),e("td",[t._v("Loan Application completed")])]),t._v(" "),e("tr",[e("td",[t._v("EXIT")]),t._v(" "),e("td",[t._v("User exits SDK")])]),t._v(" "),e("tr",[e("td",[t._v("PAYMENT_SUCCESSFULL")]),t._v(" "),e("td",[t._v("Credit Line withdraw successful. Transaction ID will also be passed in the callback.")])]),t._v(" "),e("tr",[e("td",[t._v("OTP_LIMIT_EXCEEDED")]),t._v(" "),e("td",[t._v("Too many incorrect OTP in Credit Line withdrawal")])])])]),t._v(" "),e("p",[t._v("Above Events can be recieved in three ways")]),t._v(" "),e("ol",[e("li",[t._v("Listen to window postMessage via "),e("code",[t._v('target.addEventListener("message", (event) =>{});')]),t._v("\nEg: Post Message"),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"finbox-lending"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"EXIT"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),e("ul",[e("li",[t._v("In case of "),e("code",[t._v("PAYMENT_SUCCESSFULL")]),t._v(" event :-")])]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[t._v("   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"finbox-lending"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"EXIT"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"txnID"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<Transaction ID>"')]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[t._v("The events are also passed through the configured redirect URL.\nEg: Redirect\n"),e("code",[t._v("https://your-redirect.url/?status=EXIT")])])]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),e("ul",[e("li",[t._v("In case of "),e("code",[t._v("PAYMENT_SUCCESSFULL")]),t._v(" event :-\n"),e("code",[t._v("https://your-redirect.url/?status=EXIT&txnID=<Transaction ID>")])])])]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[t._v("In case the SDK is used in a Android WebView. A "),e("a",{attrs:{href:"https://developer.android.com/guide/webapps/webview#UsingJavaScript",target:"_blank",rel:"noopener noreferrer"}},[t._v("Javascript Interface"),e("OutboundLink")],1),t._v(" can be used to get the events.")])]),t._v(" "),e("ul",[e("li",[t._v("Interface Name: "),e("code",[t._v("FinboxWebViewInterface")])]),t._v(" "),e("li",[t._v("Callback Function: "),e("code",[t._v("finboxCallBack")]),t._v(". Recieves two parameter\n"),e("ul",[e("li",[e("code",[t._v("status")])]),t._v(" "),e("li",[e("code",[t._v("txnID")]),t._v(" in case of event "),e("code",[t._v("PAYMENT_SUCCESSFULL")])])])])]),t._v(" "),e("h2",{attrs:{id:"customizations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#customizations"}},[t._v("#")]),t._v(" Customizations")]),t._v(" "),e("p",[t._v("You can share the following JSON (or its subset) with FinBox team to customize the look and feel of the lending journey:")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"primaryDark"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#515F7F"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"primaryMedium"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#6F7A94"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"primaryLight"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#B7C5CF"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"accentColor"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#0075FF"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tileBackground"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#F4F8FC"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"errorColor"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#F44336bb"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"warningBackground"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#FDF0EF"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);