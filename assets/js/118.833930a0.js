(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{416:function(t,e,a){"use strict";a.r(e);var n=a(8),s=Object(n.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"bankconnect-ios"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bankconnect-ios"}},[t._v("#")]),t._v(" BankConnect: IOS")]),t._v(" "),e("p",[t._v("BankConnect IOS SDK helps user submits their bank statements via upload or net banking credentials in your Android application.")]),t._v(" "),e("h2",{attrs:{id:"requirements"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#requirements"}},[t._v("#")]),t._v(" Requirements")]),t._v(" "),e("p",[t._v("Bank Connect IOS SDK works on IOS 16.1 and Xcode 14.1.")]),t._v(" "),e("h2",{attrs:{id:"adding-dependency"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#adding-dependency"}},[t._v("#")]),t._v(" Adding Dependency")]),t._v(" "),e("p",[t._v("Add the SDK to the application using Swift Package Manager (Preferred) or Cocopods.")]),t._v(" "),e("CodeSwitcher",{attrs:{languages:{spm:"Swift Package Manager",cocopods:"CocoaPods"}},scopedSlots:t._u([{key:"spm",fn:function(){return[e("ol",[e("li",[e("p",[t._v("In Xcode, select File > Add Packages...")])]),t._v(" "),e("li",[e("p",[t._v("Enter the "),e("a",{attrs:{href:"https://github.com/finbox-in/bank-connect-ios-sdk",target:"_blank",rel:"noopener noreferrer"}},[t._v("Bank Connect URL"),e("OutboundLink")],1),t._v(" for this repository")])])])]},proxy:!0},{key:"cocopods",fn:function(){return[e("ol",[e("li",[t._v("Edit the "),e("code",[t._v("pod")]),t._v(" file and add "),e("code",[t._v("pod 'BankConnect")])])])]},proxy:!0}])}),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),e("p",[t._v("Following will be shared by FinBox team at the time of integration:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("CLIENT_API_KEY")])])])]),t._v(" "),e("h2",{attrs:{id:"integration-workflow"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#integration-workflow"}},[t._v("#")]),t._v(" Integration Workflow")]),t._v(" "),e("p",[t._v("The diagram below illustrates the integration workflow in a nutshell:\n"),e("img",{attrs:{src:"/client_sdk.jpg",alt:"Client SDK Workflow"}})]),t._v(" "),e("h2",{attrs:{id:"sample-project"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sample-project"}},[t._v("#")]),t._v(" Sample Project")]),t._v(" "),e("p",[t._v("We have hosted a sample project on GitHub, you can check it out here:\n")]),e("div",{staticClass:"button_holder"},[e("a",{staticClass:"download_button",attrs:{target:"_blank",href:"https://github.com/finbox-in/bank-connect-sample-ios"}},[t._v("Open GitHub Repository")])]),e("p"),t._v(" "),e("h2",{attrs:{id:"build-bank-connect"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#build-bank-connect"}},[t._v("#")]),t._v(" Build Bank Connect")]),t._v(" "),e("p",[t._v("Build the "),e("code",[t._v("FinBoxBankConnect")]),t._v(" object by passing "),e("code",[t._v("apiKey")]),t._v(", "),e("code",[t._v("linkId")]),t._v(", "),e("code",[t._v("fromDate")]),t._v(", "),e("code",[t._v("toDate")]),t._v(", "),e("code",[t._v("bank")]),t._v(", "),e("code",[t._v("mode")]),t._v(" and others.")]),t._v(" "),e("div",{staticClass:"language-swift extra-class"},[e("pre",{pre:!0,attrs:{class:"language-swift"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token omit keyword"}},[t._v("_")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FinBoxBankConnect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Builder")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apiKey")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CLIENT_API_KEY"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("linkId")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"LINK_ID"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromDate")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"01/01/2021"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("                     "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Optional: Default 6 months old date")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("toDate")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"01/04/2021"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("                       "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Optional: Default value 1 day less than current date")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bank")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sbi"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("                                "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Optional: Short code of the bank")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PDF")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("                                  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Optional: PDF Mode")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mobileNumber")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"9876543210"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("                 "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Optional: Mobile number")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("journeyMode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MULTI_PDF")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("                     "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Optional: Multi PDF journey")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("aaJourneyMode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ONLY_RECURRING")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("              "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Optional: Recurring AA pulls")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("aaRecurringTenureMonthCount")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("             "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Optional: Consent duration is valid for 3 months")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("aaRecurringFrequencyUnit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DAYS")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Optional: Frequency value is in Days")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("aaRecurringFrequencyValue")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("               "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Optional: Number of times to pull the data")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("table",[e("thead",[e("tr",[e("th",[t._v("Builder Property")]),t._v(" "),e("th",[t._v("Description")]),t._v(" "),e("th",[t._v("Required")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("apiKey")])]),t._v(" "),e("td",[t._v("specifies the "),e("code",[t._v("api_key")])]),t._v(" "),e("td",[t._v("Yes")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("linkId")])]),t._v(" "),e("td",[t._v("specifies the "),e("code",[t._v("link_id")])]),t._v(" "),e("td",[t._v("Yes")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("fromDate")])]),t._v(" "),e("td",[t._v("specifies the starting period of the statement in "),e("code",[t._v("DD/MM/YYYY")]),t._v("format")]),t._v(" "),e("td",[t._v("No")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("toDate")])]),t._v(" "),e("td",[t._v("specifies the end period of the statement in "),e("code",[t._v("DD/MM/YYYY")]),t._v(" format")]),t._v(" "),e("td",[t._v("No")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("bank")])]),t._v(" "),e("td",[t._v("pass the "),e("RouterLink",{attrs:{to:"/bank-connect/appendix.html#bank-identifiers"}},[t._v("bank identifier")]),t._v(" to skip the bank selection screen and directly open a that bank's screen instead")],1),t._v(" "),e("td",[t._v("No")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("mode")])]),t._v(" "),e("td",[t._v("set the mode as pdf (manual upload) or aa (Account Aggregator) or online (Net Banking)")]),t._v(" "),e("td",[t._v("No")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("mobile_number")])]),t._v(" "),e("td",[t._v("Prefills phone number in Account Aggregator mode")]),t._v(" "),e("td",[t._v("No")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("journey_mode")])]),t._v(" "),e("td",[t._v("Optional parameter to set the journey (i.e.multi_pdf or multi_banking)")]),t._v(" "),e("td",[t._v("No")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("aa_journey_mode")])]),t._v(" "),e("td",[t._v("set the journey mode for AA (i.e only_once or only_recurring)")]),t._v(" "),e("td",[t._v("No")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("aa_recurring_tenure_month_count")])]),t._v(" "),e("td",[t._v("set the recurring consent duration (min: 1 and max: 24)")]),t._v(" "),e("td",[t._v("No")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("aa_recurring_frequency_unit")])]),t._v(" "),e("td",[t._v("set the frequency unit to pull the data during the recurring consent duration (year, month, day, hour)")]),t._v(" "),e("td",[t._v("No")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("aa_recurring_frequency_value")])]),t._v(" "),e("td",[t._v("set the frequency value to pull the data during the recurring consent duration (min: 1 and max: 3)")]),t._v(" "),e("td",[t._v("No")])])])]),t._v(" "),e("p",[e("code",[t._v("fromDate")]),t._v(" and "),e("code",[t._v("toDate")]),t._v(" specify the period for which the statements will be fetched. For example, if you need the last 6 months of statements, "),e("code",[t._v("fromDate")]),t._v(" will be today's date - 6 months and "),e("code",[t._v("toDate")]),t._v(" will be today's date - 1 day. If not provided the default date range is 6 months from the current date. It should be in "),e("code",[t._v("DD/MM/YYYY")]),t._v(" format.")]),t._v(" "),e("p",[t._v("Once the above statement is added, a series of checks are done to make sure the SDK is implemented correctly. A "),e("code",[t._v("RunTimeException")]),t._v(" will be thrown while trying to build the project in case any of the checks are not completed.")]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("Minimal Requirements for SDK to work:")]),t._v(" "),e("ol",[e("li",[e("code",[t._v("apiKey")]),t._v(" is is mandatory")]),t._v(" "),e("li",[e("code",[t._v("linkId")]),t._v(" is mandatory, and should be at least 8 characters long")]),t._v(" "),e("li",[t._v("In case "),e("code",[t._v("fromDate")]),t._v(" / "),e("code",[t._v("toDate")]),t._v(" is provided, make sure they are of correct date format: "),e("code",[t._v("DD/MM/YYYY")]),t._v(".")]),t._v(" "),e("li",[t._v("Make sure "),e("code",[t._v("fromDate")]),t._v(" is always less than "),e("code",[t._v("toDate")])]),t._v(" "),e("li",[t._v("Make sure "),e("code",[t._v("toDate")]),t._v(" is never today's date, the maximum possible value for it is today's date - 1 day\nOnce all these conditions are met, the BankConnect object will build.")])])]),t._v(" "),e("h2",{attrs:{id:"show-sdk-screen"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#show-sdk-screen"}},[t._v("#")]),t._v(" Show SDK Screen")]),t._v(" "),e("p",[t._v("Start Bank Screen and listen for the result")]),t._v(" "),e("div",{staticClass:"language-swift extra-class"},[e("pre",{pre:!0,attrs:{class:"language-swift"}},[e("code",[e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BankView")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    payload "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Success Response - Valid Entity Id")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("debugPrint")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Entity Id"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" payload"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("entityId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h2",{attrs:{id:"parse-results"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parse-results"}},[t._v("#")]),t._v(" Parse Results")]),t._v(" "),e("p",[t._v("Once the user navigates through the banks and uploads the bank statement, the sdk automatically closes "),e("code",[t._v("BankView")]),t._v(" and returns the results.")]),t._v(" "),e("p",[t._v("Success callback contains "),e("code",[t._v("entityId")]),t._v(" (or "),e("code",[t._v("sessionId")]),t._v("). A successful upload contains a unique "),e("code",[t._v("entityId")]),t._v(" (or "),e("code",[t._v("sessionId")]),t._v(").")]),t._v(" "),e("ul",[e("li",[t._v("entityId - Unique id of a successful statement upload during Entity flow")]),t._v(" "),e("li",[t._v("sessionId - Session id of a successful statement upload during Session flow")])])],1)}),[],!1,null,null,null);e.default=s.exports}}]);