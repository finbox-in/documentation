(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{333:function(t,s,e){"use strict";e.r(s);var a=e(7),n=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"deviceconnect-ios"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deviceconnect-ios"}},[t._v("#")]),t._v(" DeviceConnect: IOS")]),t._v(" "),s("p",[t._v("Device Connect IOS SDK is used to collect anonymised non-PII data from the devices of the users after taking explicit user consent.")]),t._v(" "),s("h2",{attrs:{id:"requirements"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#requirements"}},[t._v("#")]),t._v(" Requirements")]),t._v(" "),s("p",[t._v("Device Connect IOS SDK works on IOS 16.1 and Xcode 14.1.")]),t._v(" "),s("h2",{attrs:{id:"adding-dependency"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#adding-dependency"}},[t._v("#")]),t._v(" Adding Dependency")]),t._v(" "),s("p",[t._v("Add the SDK to the application using Swift Package Manager (Preferred) or Cocopods.")]),t._v(" "),s("CodeSwitcher",{attrs:{languages:{spm:"Swift Package Manager",cocopods:"CocoaPods"}},scopedSlots:t._u([{key:"spm",fn:function(){return[s("ol",[s("li",[s("p",[t._v("In Xcode, select File > Add Packages...")])]),t._v(" "),s("li",[s("p",[t._v("Enter the "),s("a",{attrs:{href:"https://gitlab.com/finbox/deviceconnect/mobile/ios-risk-manager",target:"_blank",rel:"noopener noreferrer"}},[t._v("Risk Manager URL"),s("OutboundLink")],1),t._v(" for this repository")])])])]},proxy:!0},{key:"cocopods",fn:function(){return[s("ol",[s("li",[t._v("Edit the "),s("code",[t._v("pod")]),t._v(" file and add "),s("code",[t._v("pod 'RiskManager")])])])]},proxy:!0}])}),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),s("p",[t._v("Following will be shared by FinBox team at the time of integration:")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("CLIENT_API_KEY")])])])]),t._v(" "),s("h2",{attrs:{id:"create-user"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-user"}},[t._v("#")]),t._v(" Create User")]),t._v(" "),s("p",[t._v("Call "),s("code",[t._v("createUser")]),t._v(" method to create the user. It takes Client Api Key and Customer Id as the arguments.")]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("IMPORTANT")]),t._v(" "),s("p",[t._v("Please make sure "),s("code",[t._v("CUSTOMER_ID")]),t._v(" is "),s("strong",[t._v("not more than 64")]),t._v(" characters and is "),s("strong",[t._v("alphanumeric")]),t._v(" (with no special characters). Also it should never be "),s("code",[t._v("null")]),t._v(" or a blank string "),s("code",[t._v('""')]),t._v(".")])]),t._v(" "),s("p",[t._v("The response to this method (success or failure) can be captured using the callback.")]),t._v(" "),s("CodeSwitcher",{attrs:{languages:{swift:"Swift"}},scopedSlots:t._u([{key:"swift",fn:function(){return[s("div",{staticClass:"language-swift extra-class"},[s("pre",{pre:!0,attrs:{class:"language-swift"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Finbox")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createUser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("apiKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string-literal"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"API_KEY"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" customerId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string-literal"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CUSTOMER_ID"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" token "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Authentication is success")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" code "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Authentication failed")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]},proxy:!0}])}),t._v(" "),s("p",[t._v("You can read about the errors in the "),s("RouterLink",{attrs:{to:"/device-connect/error-codes.html"}},[t._v("Error Codes")]),t._v(" section.")],1),t._v(" "),s("h2",{attrs:{id:"start-periodic-sync"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#start-periodic-sync"}},[t._v("#")]),t._v(" Start Periodic Sync")]),t._v(" "),s("p",[t._v("This is to be called only on a successful response to "),s("code",[t._v("createUser")]),t._v(" method's callback. On calling this the syncs will start for all the data sources configured as per permissions. The method below syncs data in the background at regular intervals.")]),t._v(" "),s("CodeSwitcher",{attrs:{languages:{swift:"Swift"}},scopedSlots:t._u([{key:"swift",fn:function(){return[s("div",{staticClass:"language-swift extra-class"},[s("pre",{pre:!0,attrs:{class:"language-swift"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" finbox "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FinBox")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nfinbox"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("startPeriodicSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]},proxy:!0}])}),t._v(" "),s("h2",{attrs:{id:"cancel-periodic-sync"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cancel-periodic-sync"}},[t._v("#")]),t._v(" Cancel Periodic Sync")]),t._v(" "),s("p",[t._v("If you have already set up the sync for the user, cancel the syncs using "),s("code",[t._v("stopPeriodicSync")]),t._v(" method.")]),t._v(" "),s("CodeSwitcher",{attrs:{languages:{swift:"Swift"}},scopedSlots:t._u([{key:"swift",fn:function(){return[s("div",{staticClass:"language-swift extra-class"},[s("pre",{pre:!0,attrs:{class:"language-swift"}},[s("code",[t._v("finbox"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stopPeriodicSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]},proxy:!0}])}),t._v(" "),s("h2",{attrs:{id:"handle-sync-frequency"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#handle-sync-frequency"}},[t._v("#")]),t._v(" Handle Sync Frequency")]),t._v(" "),s("p",[t._v("By default sync frequency is set to "),s("strong",[t._v("8 hours")]),t._v(", you can modify it by passing preferred time "),s("strong",[t._v("in seconds")]),t._v(" as an argument to "),s("code",[t._v("setSyncFrequency")]),t._v(" method once the user is created.")]),t._v(" "),s("CodeSwitcher",{attrs:{languages:{swift:"Swift"}},scopedSlots:t._u([{key:"swift",fn:function(){return[s("div",{staticClass:"language-swift extra-class"},[s("pre",{pre:!0,attrs:{class:"language-swift"}},[s("code",[t._v("finbox"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setSyncFrequency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]},proxy:!0}])}),t._v(" "),s("h2",{attrs:{id:"reset-user-data"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reset-user-data"}},[t._v("#")]),t._v(" Reset User Data")]),t._v(" "),s("p",[t._v("In case the user data needs to be removed on the device so that you can re-sync the entire data, use the method "),s("code",[t._v("resetData")]),t._v(".")]),t._v(" "),s("CodeSwitcher",{attrs:{languages:{swift:"Swift"}},scopedSlots:t._u([{key:"swift",fn:function(){return[s("div",{staticClass:"language-swift extra-class"},[s("pre",{pre:!0,attrs:{class:"language-swift"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FinBox")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resetData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]},proxy:!0}])}),t._v(" "),s("h2",{attrs:{id:"forget-user"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#forget-user"}},[t._v("#")]),t._v(" Forget User")]),t._v(" "),s("p",[t._v("In case the user choose to be forgotten, use the method "),s("code",[t._v("forgetUser")]),t._v(". This will delete the user details in our system.")]),t._v(" "),s("CodeSwitcher",{attrs:{languages:{swift:"Swift"}},scopedSlots:t._u([{key:"swift",fn:function(){return[s("div",{staticClass:"language-swift extra-class"},[s("pre",{pre:!0,attrs:{class:"language-swift"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FinBox")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forgetUser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]},proxy:!0}])})],1)}),[],!1,null,null,null);s.default=n.exports}}]);