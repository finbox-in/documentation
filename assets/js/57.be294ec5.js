(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{354:function(e,t,s){"use strict";s.r(t);var i=s(8),r=Object(i.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"deviceconnect-integration-flow"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deviceconnect-integration-flow"}},[e._v("#")]),e._v(" DeviceConnect: Integration Flow")]),e._v(" "),t("p",[e._v("Integration flow in the mobile app should be as follows")]),e._v(" "),t("img",{staticStyle:{width:"80%",height:"80%"},attrs:{src:"/device_connect_android_integration.jpg",alt:"Device Connect Android Integration Workflow"}}),e._v(" "),t("h3",{attrs:{id:"step-1-requesting-runtime-permissions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-1-requesting-runtime-permissions"}},[e._v("#")]),e._v(" Step 1: Requesting Runtime Permissions")]),e._v(" "),t("p",[e._v("It is required to show what all permissions you will be needing from users in your app, and then ask them for the permissions. Please refer "),t("RouterLink",{attrs:{to:"/device-connect/android.html#handle-permissions"}},[e._v("Handle Permissions")]),e._v(" section to get the list of permissions the SDK needs. Also in case you want to exclude certain permissions, you can use node marker value "),t("code",[e._v("remove")]),e._v(" as mentioned in the same article.")],1),e._v(" "),t("h3",{attrs:{id:"step-2-creating-the-user"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-2-creating-the-user"}},[e._v("#")]),e._v(" Step 2: Creating the User")]),e._v(" "),t("p",[e._v("After requesting, the "),t("code",[e._v("createUser")]),e._v(" method can be called specifying a "),t("code",[e._v("CUSTOMER_ID")]),e._v(" (Refer to "),t("RouterLink",{attrs:{to:"/device-connect/android.html#create-user-method"}},[e._v("Create User")]),e._v(" section for sample code and response), which represents a unique identifier for the user.")],1),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),t("ul",[t("li",[e._v("It is recommended that "),t("code",[e._v("CUSTOMER_ID")]),e._v(" is a masked value not a unique personal identifier like a phone number or email id so that the user remains anonymous to FinBox.")]),e._v(" "),t("li",[e._v("SDK will automatically consider syncing based on whether permission was granted by the user or not and what was configured, hence the "),t("code",[e._v("createUser")]),e._v(" method must be called even though the user denies certain permissions.")])])]),e._v(" "),t("p",[t("code",[e._v("createUser")]),e._v(" in general acts as a check for API credentials. For the first time when the user doesn't exists, it will create a user on the FinBox side. The next step will work only if this function returns a success response.")]),e._v(" "),t("h3",{attrs:{id:"step-3-start-syncing-data"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-3-start-syncing-data"}},[e._v("#")]),e._v(" Step 3: Start Syncing Data")]),e._v(" "),t("p",[e._v("If the "),t("code",[e._v("createUser")]),e._v(" response is successful, you can call "),t("code",[e._v("startPeriodicSync")]),e._v(" function (Refer "),t("RouterLink",{attrs:{to:"/device-connect/android.html#start-periodic-sync-method"}},[e._v("Start Periodic Sync")]),e._v(" section) which will sync data in period intervals in background.")],1),e._v(" "),t("div",{staticClass:"custom-block danger"},[t("p",{staticClass:"custom-block-title"},[e._v("IMPORTANT")]),e._v(" "),t("ul",[t("li",[e._v("The recommended approach is to call "),t("code",[e._v("createUser")]),e._v(" (and then "),t("code",[e._v("startPeriodicSync")]),e._v(" on success) method every time user accesses the app, so that the background sync process remains in check.")]),e._v(" "),t("li",[e._v("In certain cases, the FinBox server often communicates with SDK directly, to make sure this works it is required to "),t("strong",[e._v("forward Notifications to SDK")]),e._v(". Refer "),t("RouterLink",{attrs:{to:"/device-connect/android.html#forward-notifications-to-sdk"}},[e._v("Forward Notifications to SDK\n")]),e._v(" section for it.")],1),e._v(" "),t("li",[e._v("In the case of a multi-process application, it is required to initialize the SDK manually before calling the "),t("code",[e._v("createUser")]),e._v(" method. Refer "),t("RouterLink",{attrs:{to:"/device-connect/android.html#multi-process-support"}},[e._v("Multi-Process Support")]),e._v(" section for such cases.")],1)])])])}),[],!1,null,null,null);t.default=r.exports}}]);