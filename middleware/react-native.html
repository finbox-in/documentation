<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>FinBox Lending: React Native | FinBox Documentation</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="Documentation for FinBox SDK">
    
    <link rel="preload" href="/assets/css/0.styles.2320aabd.css" as="style"><link rel="preload" href="/assets/js/app.e8046cb9.js" as="script"><link rel="preload" href="/assets/js/4.7f609412.js" as="script"><link rel="preload" href="/assets/js/2.a409744d.js" as="script"><link rel="preload" href="/assets/js/1.9be25c31.js" as="script"><link rel="preload" href="/assets/js/68.f4edb339.js" as="script"><link rel="prefetch" href="/assets/js/100.3dc88c89.js"><link rel="prefetch" href="/assets/js/101.1c90d9f8.js"><link rel="prefetch" href="/assets/js/11.a81d671e.js"><link rel="prefetch" href="/assets/js/12.0c346857.js"><link rel="prefetch" href="/assets/js/13.59d89b18.js"><link rel="prefetch" href="/assets/js/14.473dec51.js"><link rel="prefetch" href="/assets/js/15.e28d3a0b.js"><link rel="prefetch" href="/assets/js/16.062030b1.js"><link rel="prefetch" href="/assets/js/17.37a5d2b1.js"><link rel="prefetch" href="/assets/js/18.120b49a6.js"><link rel="prefetch" href="/assets/js/19.d64eb9ef.js"><link rel="prefetch" href="/assets/js/20.80932b38.js"><link rel="prefetch" href="/assets/js/21.0e968812.js"><link rel="prefetch" href="/assets/js/22.2c093f2d.js"><link rel="prefetch" href="/assets/js/23.14acaf9e.js"><link rel="prefetch" href="/assets/js/24.440f9dc2.js"><link rel="prefetch" href="/assets/js/25.c438b546.js"><link rel="prefetch" href="/assets/js/26.d6ba4925.js"><link rel="prefetch" href="/assets/js/27.7366dedb.js"><link rel="prefetch" href="/assets/js/28.99e9de53.js"><link rel="prefetch" href="/assets/js/29.fd98ec7f.js"><link rel="prefetch" href="/assets/js/3.a6163b8f.js"><link rel="prefetch" href="/assets/js/30.ac752400.js"><link rel="prefetch" href="/assets/js/31.8d106e16.js"><link rel="prefetch" href="/assets/js/32.fe543f2f.js"><link rel="prefetch" href="/assets/js/33.b0d644ad.js"><link rel="prefetch" href="/assets/js/34.59a51f1b.js"><link rel="prefetch" href="/assets/js/35.9b037c0c.js"><link rel="prefetch" href="/assets/js/36.074c1d4a.js"><link rel="prefetch" href="/assets/js/37.17b1d183.js"><link rel="prefetch" href="/assets/js/38.e8a04317.js"><link rel="prefetch" href="/assets/js/39.b9ba6df2.js"><link rel="prefetch" href="/assets/js/40.13db202b.js"><link rel="prefetch" href="/assets/js/41.f9f1418f.js"><link rel="prefetch" href="/assets/js/42.78c289e6.js"><link rel="prefetch" href="/assets/js/43.64968201.js"><link rel="prefetch" href="/assets/js/44.ca571020.js"><link rel="prefetch" href="/assets/js/45.55090df3.js"><link rel="prefetch" href="/assets/js/46.e011161a.js"><link rel="prefetch" href="/assets/js/47.8c41ad57.js"><link rel="prefetch" href="/assets/js/48.b47507c4.js"><link rel="prefetch" href="/assets/js/49.7114740a.js"><link rel="prefetch" href="/assets/js/5.d6aeb4c8.js"><link rel="prefetch" href="/assets/js/50.c5518a83.js"><link rel="prefetch" href="/assets/js/51.96721f0c.js"><link rel="prefetch" href="/assets/js/52.f3d1f405.js"><link rel="prefetch" href="/assets/js/53.2ef33a40.js"><link rel="prefetch" href="/assets/js/54.e694c488.js"><link rel="prefetch" href="/assets/js/55.c6de58d3.js"><link rel="prefetch" href="/assets/js/56.d1886c22.js"><link rel="prefetch" href="/assets/js/57.013dc9c6.js"><link rel="prefetch" href="/assets/js/58.8c035855.js"><link rel="prefetch" href="/assets/js/59.96d3d7b2.js"><link rel="prefetch" href="/assets/js/6.2927104c.js"><link rel="prefetch" href="/assets/js/60.29c39a3f.js"><link rel="prefetch" href="/assets/js/61.c5dc417f.js"><link rel="prefetch" href="/assets/js/62.3e7d0a96.js"><link rel="prefetch" href="/assets/js/63.38c51263.js"><link rel="prefetch" href="/assets/js/64.48ba72ec.js"><link rel="prefetch" href="/assets/js/65.94125544.js"><link rel="prefetch" href="/assets/js/66.97e648f0.js"><link rel="prefetch" href="/assets/js/67.e9bc8bbe.js"><link rel="prefetch" href="/assets/js/69.3781f144.js"><link rel="prefetch" href="/assets/js/7.87013b79.js"><link rel="prefetch" href="/assets/js/70.5b6eca40.js"><link rel="prefetch" href="/assets/js/71.b776b47c.js"><link rel="prefetch" href="/assets/js/72.c6613cfd.js"><link rel="prefetch" href="/assets/js/73.b0246e54.js"><link rel="prefetch" href="/assets/js/74.2ad872d3.js"><link rel="prefetch" href="/assets/js/75.745df105.js"><link rel="prefetch" href="/assets/js/76.b9b156c3.js"><link rel="prefetch" href="/assets/js/77.30cd9fdc.js"><link rel="prefetch" href="/assets/js/78.b1332901.js"><link rel="prefetch" href="/assets/js/79.d89c8e4d.js"><link rel="prefetch" href="/assets/js/8.f340bc97.js"><link rel="prefetch" href="/assets/js/80.09f08fdf.js"><link rel="prefetch" href="/assets/js/81.896c381c.js"><link rel="prefetch" href="/assets/js/82.ff44edc3.js"><link rel="prefetch" href="/assets/js/83.913327b7.js"><link rel="prefetch" href="/assets/js/84.60ee3192.js"><link rel="prefetch" href="/assets/js/85.5b72801c.js"><link rel="prefetch" href="/assets/js/86.f3f0aace.js"><link rel="prefetch" href="/assets/js/87.13d4b4fe.js"><link rel="prefetch" href="/assets/js/88.d694d6f3.js"><link rel="prefetch" href="/assets/js/89.f67b7c5f.js"><link rel="prefetch" href="/assets/js/90.ce42cee0.js"><link rel="prefetch" href="/assets/js/91.1289e1fe.js"><link rel="prefetch" href="/assets/js/92.3b7b73e3.js"><link rel="prefetch" href="/assets/js/93.320b9ca6.js"><link rel="prefetch" href="/assets/js/94.1c03f2a3.js"><link rel="prefetch" href="/assets/js/95.85e89bce.js"><link rel="prefetch" href="/assets/js/96.d3e76fee.js"><link rel="prefetch" href="/assets/js/97.73748a80.js"><link rel="prefetch" href="/assets/js/98.519045c5.js"><link rel="prefetch" href="/assets/js/99.3b34942f.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.0464d051.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2320aabd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-692ea4ed><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/header.svg" alt="FinBox Documentation" class="logo"> <span class="site-name can-hide">FinBox Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/device-connect/" class="nav-link">
  DeviceConnect
</a></div><div class="nav-item"><a href="/bank-connect/" class="nav-link">
  BankConnect
</a></div><div class="nav-item"><a href="https://finbox.in" target="_blank" rel="noopener noreferrer" class="nav-link external">
  About
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/device-connect/" class="nav-link">
  DeviceConnect
</a></div><div class="nav-item"><a href="/bank-connect/" class="nav-link">
  BankConnect
</a></div><div class="nav-item"><a href="https://finbox.in" target="_blank" rel="noopener noreferrer" class="nav-link external">
  About
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Overview</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/middleware/" aria-current="page" class="sidebar-link">Introduction</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Sourcing Entity</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/middleware/sourcing-entity.html" class="sidebar-link">Introduction</a></li><li><a href="/middleware/android.html" class="sidebar-link">Android</a></li><li><a href="/middleware/react-native.html" aria-current="page" class="active sidebar-link">React Native</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/middleware/react-native.html#installation" class="sidebar-link">Installation</a></li><li class="sidebar-sub-header"><a href="/middleware/react-native.html#authentication" class="sidebar-link">Authentication</a></li><li class="sidebar-sub-header"><a href="/middleware/react-native.html#start-sdk-flow" class="sidebar-link">Start SDK flow</a></li><li class="sidebar-sub-header"><a href="/middleware/react-native.html#credit-line" class="sidebar-link">Credit Line</a></li><li class="sidebar-sub-header"><a href="/middleware/react-native.html#callback" class="sidebar-link">Callback</a></li><li class="sidebar-sub-header"><a href="/middleware/react-native.html#notifications" class="sidebar-link">Notifications</a></li><li class="sidebar-sub-header"><a href="/middleware/react-native.html#customizations" class="sidebar-link">Customizations</a></li></ul></li><li><a href="/middleware/flutter.html" class="sidebar-link">Flutter</a></li><li><a href="/middleware/sourcing-rest-api.html" class="sidebar-link">REST API</a></li><li><a href="/middleware/web-sdk.html" class="sidebar-link">Web SDK</a></li><li><a href="/middleware/banner.html" class="sidebar-link">Banner</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Lender</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/middleware/lender.html" class="sidebar-link">Introduction</a></li></ul></section></li><li><a href="/middleware/appendix.html" class="sidebar-link">Appendix</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="finbox-lending-react-native"><a href="#finbox-lending-react-native" class="header-anchor">#</a> FinBox Lending: React Native</h1> <p>FinBox Lending React Native SDK is a wrapper around the Web SDK which helps add a digital lending journey to any mobile application.</p> <h2 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h2> <p>Using yarn:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> <span class="token function">add</span> react-native-finbox-middleware-sdk
</code></pre></div><p>or using npm:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">--save</span> react-native-finbox-middleware-sdk
</code></pre></div><p>Our SDK will auto link automatically with your application</p> <h2 id="authentication"><a href="#authentication" class="header-anchor">#</a> Authentication</h2> <p>Open Android Studio and in the project level <code>build.gradle</code> file, add the repository URLs to all <code>allprojects</code> block.</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>maven <span class="token punctuation">{</span>
    url <span class="token interpolation-string"><span class="token string">&quot;s3://risk-manager-android-sdk/artifacts&quot;</span></span>
    <span class="token function">credentials</span><span class="token punctuation">(</span>AwsCredentials<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        accessKey <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">&quot;&lt;ACCESS_KEY&gt;&quot;</span></span>
        secretKey <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">&quot;&lt;SECRET_KEY&gt;&quot;</span></span>
    <span class="token punctuation">}</span>
    content <span class="token punctuation">{</span>
        <span class="token function">includeGroup</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;in.finbox&quot;</span></span><span class="token punctuation">)</span>
        <span class="token function">includeGroup</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;in.finbox.lending&quot;</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Add the following keys in <code>local.properties</code> file:</p> <div class="language- extra-class"><pre class="language-text"><code>ACCESS_KEY=&lt;ACCESS_KEY&gt;
SECRET_KEY=&lt;SECRET_KEY&gt;
DC_SDK_VERSION=&lt;DC_SDK_VERSION&gt;
COMMON_SDK_VERSION=&lt;COMMON_SDK_VERSION&gt;
COMMON_FLAVOR=&lt;COMMON_FLAVOR&gt;
LOGGER_SDK_VERSION=&lt;LOGGER_SDK_VERSION&gt;
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">NOTE</p> <p>Following will be shared by FinBox team at the time of integration:</p> <ul><li><code>ACCESS_KEY</code></li> <li><code>SECRET_KEY</code></li> <li><code>DC_SDK_VERSION</code></li> <li><code>COMMON_SDK_VERSION</code></li> <li><code>COMMON_FLAVOR</code></li> <li><code>LOGGER_SDK_VERSION</code></li> <li><code>CLIENT_API_KEY</code></li></ul></div> <h2 id="start-sdk-flow"><a href="#start-sdk-flow" class="header-anchor">#</a> Start SDK flow</h2> <p>Once all dependencies are added, SDK requires 3 inputs: <code>CUSTOMER_ID</code>, <code>USER_TOKEN</code> and <code>CLIENT_API_KEY</code>.</p> <p><code>ENVIRONMENT</code> is an optional field. Default value of environment is <code>PROD</code>.</p> <div class="custom-block tip"><p class="custom-block-title">Note</p> <p><code>USER_TOKEN</code> needs to be generated against a <code>CUSTOMER_ID</code> on backend before starting the SDK. Refer <a href="/middleware/sourcing-rest-api.html#generate-token">here</a></p> <p><code>ENVIRONMENT</code> needs to be updated to <code>PROD</code> when migrating application to production.</p></div> <p>Now that all required parameters are available, we can start the SDK flow as follows:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> FinBoxMiddlewareSdk <span class="token keyword">from</span> <span class="token string">'react-native-finbox-middleware-sdk'</span><span class="token punctuation">;</span>
<span class="token comment">//Function to trigger Lending journey</span>
<span class="token keyword">const</span> <span class="token function-variable function">callModule</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    FinBoxMiddlewareSdk<span class="token punctuation">.</span><span class="token function">startLendingJourney</span><span class="token punctuation">(</span>
        <span class="token string">&quot;&lt;ENVIRONMENT&gt;&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;&lt;CLIENT_API_KEY&gt;&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;&lt;CUSTOMER_ID&gt;&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;&lt;USER_TOKEN&gt;&quot;</span>
        <span class="token punctuation">(</span><span class="token parameter">errorMessage</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// Error Callback</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Error message -&gt; &quot;</span><span class="token punctuation">,</span> errorMessage<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> 
        <span class="token punctuation">(</span><span class="token parameter">resultCode</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// Success Callback, once the user exits from the journey</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;resultCode&quot;</span><span class="token punctuation">,</span> resultCode<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="credit-line"><a href="#credit-line" class="header-anchor">#</a> Credit Line</h2> <p>In case of credit line product, once the lending journey is completed, user can opt-in for a credit while doing a transaction. For such a case use following method to start the credit line withdrawl journey:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> FinBoxMiddlewareSdk <span class="token keyword">from</span> <span class="token string">'react-native-finbox-middleware-sdk'</span><span class="token punctuation">;</span>
<span class="token comment">//Function to trigger credit line withdrawl</span>
<span class="token keyword">const</span> <span class="token function-variable function">callModule</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    FinBoxMiddlewareSdk<span class="token punctuation">.</span><span class="token function">startCreditLineLendingJourney</span><span class="token punctuation">(</span>
        <span class="token string">&quot;&lt;ENVIRONMENT&gt;&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;&lt;CLIENT_API_KEY&gt;&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;&lt;CUSTOMER_ID&gt;&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;&lt;USER_TOKEN&gt;&quot;</span><span class="token punctuation">,</span>
        <span class="token constant">WITHDRAW_AMOUNT</span><span class="token punctuation">,</span>
        <span class="token string">&quot;TRANSACTION_ID&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token parameter">errorMessage</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// Error Callback</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Error message -&gt; &quot;</span><span class="token punctuation">,</span> errorMessage<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> 
        <span class="token punctuation">(</span><span class="token parameter">resultCode</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// Success Callback, once the user exits from the journey</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;resultCode&quot;</span><span class="token punctuation">,</span> resultCode<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><table><thead><tr><th>Field</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>WITHDRAW_AMOUNT</code></td> <td>Float</td> <td>indicates the amount that a user is trying to withdraw</td></tr> <tr><td><code>TRANSACTION_ID</code></td> <td>String</td> <td>will hold the transaction id for the withdrawal flow</td></tr></tbody></table> <h2 id="callback"><a href="#callback" class="header-anchor">#</a> Callback</h2> <p>There are 2 callbacks that needs to be handled.</p> <h3 id="successcallback"><a href="#successcallback" class="header-anchor">#</a> successCallback</h3> <p>Success Callback will have a <code>resultCode</code>. Possible values for <code>resultCode</code> are as follows:</p> <table><thead><tr><th>Result Code</th> <th>Description</th></tr></thead> <tbody><tr><td><code>MW200</code></td> <td>Journey is completed successfully</td></tr> <tr><td><code>MW500</code></td> <td>User exits the journey</td></tr> <tr><td><code>MW400</code></td> <td>Some error occurred in the SDK</td></tr> <tr><td><code>CL200</code></td> <td>Credit line withdrawal success</td></tr> <tr><td><code>CL500</code></td> <td>Credit line withdrawal failed</td></tr></tbody></table> <h3 id="errorcallback"><a href="#errorcallback" class="header-anchor">#</a> errorCallback</h3> <p>Error callback will contain the error message.</p> <h2 id="notifications"><a href="#notifications" class="header-anchor">#</a> Notifications</h2> <p>FinBox Lending SDK sends notifications of its own for mandatory events. It is expected that the client app has Firebase configured and can forward the notification payload to the SDK. In order for SDK to capture the notifications add the following:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> messaging <span class="token keyword">from</span> <span class="token string">'@react-native-firebase/messaging'</span><span class="token punctuation">;</span>


<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    
    <span class="token comment">// Send the notification payload to a common function. If sent by FinBox team notification will be shown.</span>
    <span class="token keyword">const</span> <span class="token function-variable function">pushPayloadToFinBox</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        FinBoxMiddlewareSdk<span class="token punctuation">.</span><span class="token function">canForwardToFinBoxLendingSdk</span><span class="token punctuation">(</span>
            <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>remoteMessage<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">(</span><span class="token parameter">success</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span>
                FinBoxMiddlewareSdk<span class="token punctuation">.</span><span class="token function">forwardToFinBoxLendingSdk</span><span class="token punctuation">(</span>
                    <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>remoteMessage<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;CLIENT_API_KEY&quot;</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;CUSTOMER_ID&quot;</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;TOKEN&quot;</span><span class="token punctuation">,</span>
                <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> unsubscribe <span class="token operator">=</span> <span class="token function">messaging</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">onMessage</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">remoteMessage</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">pushPayloadToFinBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">messaging</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setBackgroundMessageHandler</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">remoteMessage</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">pushPayloadToFinBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> unsubscribe<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="customizations"><a href="#customizations" class="header-anchor">#</a> Customizations</h2> <ol><li>The privacy policy URL needs to be updated to the company policy. The default privacy policy is pointing to FinBox privacy. Add a String resource to specify the policy URL.</li></ol> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>finbox_lending_privacy_policy_url<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>https://finbox.in/about/privacy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">Note</p> <p>Make sure the value passed is a valid URL</p></div> <ol start="2"><li>The toolbar title can be updated which will be visible in the Dashboard module. In order to update the toolbar just add a String resource for the same.</li></ol> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>finbox_appbar_title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>My App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="3"><li>SDK fonts can be customised to match the parent application. The SDK used 3 main fonts as mentioned below:</li></ol> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>FBLendingAppTheme.FinBox.TextPrimary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>TextAppearance.AppCompat<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fontFamily<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>bold-font<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>FBLendingAppTheme.FinBox.TextSecondary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>TextAppearance.AppCompat<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fontFamily<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>regular-font<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>FBLendingAppTheme.FinBox.TextSubHead<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>TextAppearance.AppCompat<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fontFamily<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>semibold-font<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><code>FBLendingAppTheme.FinBox.TextPrimary</code> is used for all buttons and bold headers</li> <li><code>FBLendingAppTheme.FinBox.TextSecondary</code> is the regular font that is used for regular text</li> <li><code>FBLendingAppTheme.FinBox.TextSubHead</code> is the medium bold font that is used for Sections or subheadings</li></ul> <p>Customize the SDK font by adding the application <code>fontFamily</code> in the styles.</p> <ol start="4"><li>SDK Buttons can be customized by overriding <code>FBLendingAppTheme</code></li></ol> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>FBLendingAppTheme.FinBox.Button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Widget.MaterialComponents.Button<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cornerRadius<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>16dp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fontFamily<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>button-font<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>FBLendingAppTheme.FinBox.TextButton<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Widget.MaterialComponents.Button.TextButton<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Change button corner radius and text font as per your application theme.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/24/2024, 9:27:02 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/middleware/android.html" class="prev">
        Android
      </a></span> <span class="next"><a href="/middleware/flutter.html">
        Flutter
      </a>
      →
    </span></p></div> <div class="footer" data-v-692ea4ed><p data-v-692ea4ed><span class="item" data-v-692ea4ed>Copyright © 2024</span> <span class="item" data-v-692ea4ed>Moshpit Technologies Pvt. Ltd.</span></p></div></main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e8046cb9.js" defer></script><script src="/assets/js/4.7f609412.js" defer></script><script src="/assets/js/2.a409744d.js" defer></script><script src="/assets/js/1.9be25c31.js" defer></script><script src="/assets/js/68.f4edb339.js" defer></script>
  </body>
</html>
