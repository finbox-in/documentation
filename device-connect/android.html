<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DeviceConnect: Android SDK setup | FinBox Documentation</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="Documentation for FinBox SDK">
    
    <link rel="preload" href="/assets/css/0.styles.2320aabd.css" as="style"><link rel="preload" href="/assets/js/app.b24aae89.js" as="script"><link rel="preload" href="/assets/js/4.7f609412.js" as="script"><link rel="preload" href="/assets/js/2.a409744d.js" as="script"><link rel="preload" href="/assets/js/1.9be25c31.js" as="script"><link rel="preload" href="/assets/js/45.dd742fda.js" as="script"><link rel="preload" href="/assets/js/24.440f9dc2.js" as="script"><link rel="prefetch" href="/assets/js/100.06e9e3bf.js"><link rel="prefetch" href="/assets/js/101.c7970ef5.js"><link rel="prefetch" href="/assets/js/102.9e59c456.js"><link rel="prefetch" href="/assets/js/103.3945f621.js"><link rel="prefetch" href="/assets/js/104.56129225.js"><link rel="prefetch" href="/assets/js/105.304b6e67.js"><link rel="prefetch" href="/assets/js/106.5dc1ee88.js"><link rel="prefetch" href="/assets/js/107.57b25d00.js"><link rel="prefetch" href="/assets/js/11.a81d671e.js"><link rel="prefetch" href="/assets/js/12.0c346857.js"><link rel="prefetch" href="/assets/js/13.59d89b18.js"><link rel="prefetch" href="/assets/js/14.473dec51.js"><link rel="prefetch" href="/assets/js/15.e28d3a0b.js"><link rel="prefetch" href="/assets/js/16.062030b1.js"><link rel="prefetch" href="/assets/js/17.37a5d2b1.js"><link rel="prefetch" href="/assets/js/18.120b49a6.js"><link rel="prefetch" href="/assets/js/19.d64eb9ef.js"><link rel="prefetch" href="/assets/js/20.80932b38.js"><link rel="prefetch" href="/assets/js/21.0e968812.js"><link rel="prefetch" href="/assets/js/22.2c093f2d.js"><link rel="prefetch" href="/assets/js/23.14acaf9e.js"><link rel="prefetch" href="/assets/js/25.27f414f5.js"><link rel="prefetch" href="/assets/js/26.a2f8d0db.js"><link rel="prefetch" href="/assets/js/27.52227f32.js"><link rel="prefetch" href="/assets/js/28.707603d2.js"><link rel="prefetch" href="/assets/js/29.fd43e5e2.js"><link rel="prefetch" href="/assets/js/3.a6163b8f.js"><link rel="prefetch" href="/assets/js/30.c3dd5ec8.js"><link rel="prefetch" href="/assets/js/31.424d2dc9.js"><link rel="prefetch" href="/assets/js/32.88d6abbb.js"><link rel="prefetch" href="/assets/js/33.a2888e9f.js"><link rel="prefetch" href="/assets/js/34.78e57491.js"><link rel="prefetch" href="/assets/js/35.9b037c0c.js"><link rel="prefetch" href="/assets/js/36.025a2357.js"><link rel="prefetch" href="/assets/js/37.e0b5ddf4.js"><link rel="prefetch" href="/assets/js/38.78c214b3.js"><link rel="prefetch" href="/assets/js/39.7bfc680a.js"><link rel="prefetch" href="/assets/js/40.e651aad0.js"><link rel="prefetch" href="/assets/js/41.89d10eb7.js"><link rel="prefetch" href="/assets/js/42.fc733f14.js"><link rel="prefetch" href="/assets/js/43.4c8107b6.js"><link rel="prefetch" href="/assets/js/44.24a329aa.js"><link rel="prefetch" href="/assets/js/46.3c528cc7.js"><link rel="prefetch" href="/assets/js/47.4a93b89c.js"><link rel="prefetch" href="/assets/js/48.17ade780.js"><link rel="prefetch" href="/assets/js/49.d089dfd2.js"><link rel="prefetch" href="/assets/js/5.d6aeb4c8.js"><link rel="prefetch" href="/assets/js/50.19ad9af9.js"><link rel="prefetch" href="/assets/js/51.6a1d35d9.js"><link rel="prefetch" href="/assets/js/52.d6633053.js"><link rel="prefetch" href="/assets/js/53.9575aa46.js"><link rel="prefetch" href="/assets/js/54.ba46992f.js"><link rel="prefetch" href="/assets/js/55.0a7ae574.js"><link rel="prefetch" href="/assets/js/56.49353fca.js"><link rel="prefetch" href="/assets/js/57.310d1722.js"><link rel="prefetch" href="/assets/js/58.257654b8.js"><link rel="prefetch" href="/assets/js/59.c387a3c2.js"><link rel="prefetch" href="/assets/js/6.2927104c.js"><link rel="prefetch" href="/assets/js/60.694854e6.js"><link rel="prefetch" href="/assets/js/61.216e68de.js"><link rel="prefetch" href="/assets/js/62.9861d931.js"><link rel="prefetch" href="/assets/js/63.5d448c0d.js"><link rel="prefetch" href="/assets/js/64.7077aade.js"><link rel="prefetch" href="/assets/js/65.37095865.js"><link rel="prefetch" href="/assets/js/66.c5a8b45b.js"><link rel="prefetch" href="/assets/js/67.54fbcb3c.js"><link rel="prefetch" href="/assets/js/68.9cb098ff.js"><link rel="prefetch" href="/assets/js/69.f3d61396.js"><link rel="prefetch" href="/assets/js/7.87013b79.js"><link rel="prefetch" href="/assets/js/70.4d913911.js"><link rel="prefetch" href="/assets/js/71.b0ecd017.js"><link rel="prefetch" href="/assets/js/72.07d454af.js"><link rel="prefetch" href="/assets/js/73.dfefa1e0.js"><link rel="prefetch" href="/assets/js/74.d02f07ce.js"><link rel="prefetch" href="/assets/js/75.bf692df5.js"><link rel="prefetch" href="/assets/js/76.d50a4946.js"><link rel="prefetch" href="/assets/js/77.3a98f5df.js"><link rel="prefetch" href="/assets/js/78.9c7c3263.js"><link rel="prefetch" href="/assets/js/79.8c655c54.js"><link rel="prefetch" href="/assets/js/8.f340bc97.js"><link rel="prefetch" href="/assets/js/80.5ac0d63a.js"><link rel="prefetch" href="/assets/js/81.00b8b9c0.js"><link rel="prefetch" href="/assets/js/82.314f317c.js"><link rel="prefetch" href="/assets/js/83.6e5c9c28.js"><link rel="prefetch" href="/assets/js/84.d6430da4.js"><link rel="prefetch" href="/assets/js/85.066cacfe.js"><link rel="prefetch" href="/assets/js/86.0bb63d09.js"><link rel="prefetch" href="/assets/js/87.7a8d156e.js"><link rel="prefetch" href="/assets/js/88.9a5e4c5f.js"><link rel="prefetch" href="/assets/js/89.f3fc5cff.js"><link rel="prefetch" href="/assets/js/90.0cb1c50a.js"><link rel="prefetch" href="/assets/js/91.f06aeec9.js"><link rel="prefetch" href="/assets/js/92.81a385d4.js"><link rel="prefetch" href="/assets/js/93.285aa60e.js"><link rel="prefetch" href="/assets/js/94.2ab5a274.js"><link rel="prefetch" href="/assets/js/95.1b60e247.js"><link rel="prefetch" href="/assets/js/96.f1ca28f9.js"><link rel="prefetch" href="/assets/js/97.90007f96.js"><link rel="prefetch" href="/assets/js/98.f1d53de3.js"><link rel="prefetch" href="/assets/js/99.6abce110.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.0464d051.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2320aabd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-692ea4ed><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/header.svg" alt="FinBox Documentation" class="logo"> <span class="site-name can-hide">FinBox Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/device-connect/" class="nav-link router-link-active">
  DeviceConnect
</a></div><div class="nav-item"><a href="/session-flow/" class="nav-link">
  BankConnect
</a></div><div class="nav-item"><a href="https://finbox.in" target="_blank" rel="noopener noreferrer" class="nav-link external">
  About
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/device-connect/" class="nav-link router-link-active">
  DeviceConnect
</a></div><div class="nav-item"><a href="/session-flow/" class="nav-link">
  BankConnect
</a></div><div class="nav-item"><a href="https://finbox.in" target="_blank" rel="noopener noreferrer" class="nav-link external">
  About
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Overview</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/device-connect/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/device-connect/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/device-connect/architecture.html" class="sidebar-link">Architecture</a></li><li><a href="/device-connect/integration-flow.html" class="sidebar-link">DeviceConnect Integration</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Data Collection</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/device-connect/mobile-integration.html" class="sidebar-link">FrontEnd Integration</a></li><li><a href="/device-connect/permissions.html" class="sidebar-link">Handling Permissions</a></li><li><a href="/device-connect/android.html" aria-current="page" class="active sidebar-link">Android SDK setup</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/device-connect/android.html#requirements" class="sidebar-link">Requirements</a></li><li class="sidebar-sub-header"><a href="/device-connect/android.html#adding-dependency" class="sidebar-link">Adding Dependency</a></li><li class="sidebar-sub-header"><a href="/device-connect/android.html#create-user" class="sidebar-link">Create User</a></li><li class="sidebar-sub-header"><a href="/device-connect/android.html#start-periodic-sync" class="sidebar-link">Start Periodic Sync</a></li><li class="sidebar-sub-header"><a href="/device-connect/android.html#match-details-on-device" class="sidebar-link">Match Details on Device</a></li><li class="sidebar-sub-header"><a href="/device-connect/android.html#forward-notifications-to-sdk" class="sidebar-link">Forward Notifications to SDK</a></li><li class="sidebar-sub-header"><a href="/device-connect/android.html#multi-process-support" class="sidebar-link">Multi-Process Support</a></li><li class="sidebar-sub-header"><a href="/device-connect/android.html#cancel-periodic-sync" class="sidebar-link">Cancel Periodic Sync</a></li><li class="sidebar-sub-header"><a href="/device-connect/android.html#handle-sync-frequency" class="sidebar-link">Handle Sync Frequency</a></li><li class="sidebar-sub-header"><a href="/device-connect/android.html#reset-user-data" class="sidebar-link">Reset User Data</a></li><li class="sidebar-sub-header"><a href="/device-connect/android.html#forget-user" class="sidebar-link">Forget User</a></li></ul></li><li><a href="/device-connect/react-native.html" class="sidebar-link">React Native SDK setup</a></li><li><a href="/device-connect/flutter.html" class="sidebar-link">Flutter SDK setup</a></li><li><a href="/device-connect/cordova.html" class="sidebar-link">Cordova SDK setup</a></li><li><a href="/device-connect/ionic-capacitor.html" class="sidebar-link">Ionic Capacitor SDK setup</a></li><li><a href="/device-connect/error-codes.html" class="sidebar-link">Error Codes</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Fetching Insights and Predictors</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/device-connect/insights-integration-flow.html" class="sidebar-link">Backend Integration</a></li><li><a href="/device-connect/insights-api.html" class="sidebar-link">Insights API</a></li><li><a href="/device-connect/salt-generation.html" class="sidebar-link">Salt Generation</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>FAQ</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="deviceconnect-android-sdk-setup"><a href="#deviceconnect-android-sdk-setup" class="header-anchor">#</a> DeviceConnect: Android SDK setup</h1> <p>The DeviceConnect Android SDK enables the collection of anonymized, non-PII data from user devices, ensuring compliance with privacy policies by obtaining explicit user consent before initiating data sync processes.</p> <div class="embed-container"><iframe src="https://www.youtube.com/embed/SfzGylmUVpY" title="Device Connect Data Sync" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div> <h2 id="requirements"><a href="#requirements" class="header-anchor">#</a> Requirements</h2> <p>DeviceConnect Android SDK works on Android 5.0+ (API level 21+), on Java 8+ and AndroidX. In addition to the changes, enable desugaring so that our SDK can run smoothly on Android 7.0 and versions below.</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Kotlin
            </li><li> Groovy
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-kotlin extra-class"><pre class="language-kotlin"><code>android <span class="token punctuation">{</span>
    <span class="token operator">..</span><span class="token punctuation">.</span>
    defaultConfig <span class="token punctuation">{</span>
        <span class="token operator">..</span><span class="token punctuation">.</span>
        <span class="token comment">// Minimum 5.0+ devices</span>
        minSdk <span class="token number">21</span>
        <span class="token operator">..</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
    <span class="token operator">..</span><span class="token punctuation">.</span>
    compileOptions <span class="token punctuation">{</span>
        <span class="token comment">// Flag to enable support for the new language APIs</span>
        coreLibraryDesugaringEnabled <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token comment">// Sets Java compatibility to Java 8</span>
        sourceCompatibility <span class="token operator">=</span> JavaVersion<span class="token punctuation">.</span>VERSION_1_8
        targetCompatibility <span class="token operator">=</span> JavaVersion<span class="token punctuation">.</span>VERSION_1_8
    <span class="token punctuation">}</span>
    <span class="token comment">// For Kotlin projects</span>
    kotlinOptions <span class="token punctuation">{</span>
        jvmTarget <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">&quot;1.8&quot;</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

dependencies <span class="token punctuation">{</span>
    <span class="token function">coreLibraryDesugaring</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;com.android.tools:desugar_jdk_libs:1.1.5&quot;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-groovy extra-class"><pre class="language-groovy"><code>android <span class="token punctuation">{</span>
    <span class="token punctuation">...</span>
    defaultConfig <span class="token punctuation">{</span>
        <span class="token punctuation">...</span>
        <span class="token comment">// Minimum 5.0+ devices</span>
        minSdkVersion <span class="token number">21</span>
        <span class="token punctuation">...</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">...</span>
    compileOptions <span class="token punctuation">{</span>
        <span class="token comment">// Flag to enable support for the new language APIs</span>
        coreLibraryDesugaringEnabled <span class="token boolean">true</span>
        <span class="token comment">// Sets Java compatibility to Java 8</span>
        sourceCompatibility JavaVersion<span class="token punctuation">.</span>VERSION_1_8
        targetCompatibility JavaVersion<span class="token punctuation">.</span>VERSION_1_8
    <span class="token punctuation">}</span>
    <span class="token comment">// For Kotlin projects</span>
    kotlinOptions <span class="token punctuation">{</span>
        jvmTarget <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">&quot;1.8&quot;</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

dependencies <span class="token punctuation">{</span>
    coreLibraryDesugaring <span class="token string">'com.android.tools:desugar_jdk_libs:1.1.5'</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div> <h2 id="adding-dependency"><a href="#adding-dependency" class="header-anchor">#</a> Adding Dependency</h2> <p>In the project level <code>build.gradle</code> file or <code>settings.gradle</code>, add the repository URLs to all <code>allprojects</code> block or <code>repositories</code> block inside <code>dependencyResolutionManagement</code>.</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Kotlin
            </li><li> Groovy
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-kotlin extra-class"><pre class="language-kotlin"><code>maven <span class="token punctuation">{</span>
    <span class="token function">setUrl</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;s3://risk-manager-android-sdk/artifacts&quot;</span></span><span class="token punctuation">)</span>
    <span class="token function">credentials</span><span class="token punctuation">(</span>AwsCredentials<span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        accessKey <span class="token operator">=</span> <span class="token operator">&lt;</span>ACCESS_KEY<span class="token operator">&gt;</span>
        secretKey <span class="token operator">=</span> <span class="token operator">&lt;</span>SECRET_KEY<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
    content <span class="token punctuation">{</span>
        <span class="token function">includeGroup</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;in.finbox&quot;</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-groovy extra-class"><pre class="language-groovy"><code>maven <span class="token punctuation">{</span>
    url <span class="token interpolation-string"><span class="token string">&quot;s3://risk-manager-android-sdk/artifacts&quot;</span></span>
    <span class="token function">credentials</span><span class="token punctuation">(</span>AwsCredentials<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        accessKey <span class="token operator">=</span> <span class="token operator">&lt;</span>ACCESS_KEY<span class="token operator">&gt;</span>
        secretKey <span class="token operator">=</span> <span class="token operator">&lt;</span>SECRET_KEY<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
    content <span class="token punctuation">{</span>
        <span class="token function">includeGroup</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;in.finbox&quot;</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div> <p>Now add the dependency to module level <code>build.gradle.kts</code> or <code>build.gradle</code> file:</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Kotlin
            </li><li> Groovy
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token function">implementation</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;in.finbox:mobileriskmanager:&lt;DC_SDK_VERSION&gt;:parent-release@aar&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    isTransitive <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
<span class="token function">implementation</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;in.finbox:common:&lt;COMMON_SDK_VERSION&gt;:&lt;COMMON_FLAVOR&gt;-release@aar&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    isTransitive <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
<span class="token function">implementation</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;in.finbox:logger:&lt;LOGGER_SDK_VERSION&gt;:parent-release@aar&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    isTransitive <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-groovy extra-class"><pre class="language-groovy"><code><span class="token function">implementation</span><span class="token punctuation">(</span><span class="token string">'in.finbox:mobileriskmanager:&lt;DC_SDK_VERSION&gt;:parent-release@aar'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    transitive <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
implementation <span class="token punctuation">(</span><span class="token string">'in.finbox:common:&lt;COMMON_SDK_VERSION&gt;:&lt;COMMON_FLAVOR&gt;-release@aar'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    transitive <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
implementation <span class="token punctuation">(</span><span class="token string">'in.finbox:logger:&lt;LOGGER_SDK_VERSION&gt;:parent-release@aar'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    transitive <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div> <div class="custom-block warning"><p class="custom-block-title">NOTE</p> <p>Following will be shared by FinBox team at the time of integration:</p> <ul><li><code>ACCESS_KEY</code></li> <li><code>SECRET_KEY</code></li> <li><code>DC_SDK_VERSION</code></li> <li><code>COMMON_SDK_VERSION</code></li> <li><code>COMMON_FLAVOR</code></li> <li><code>LOGGER_SDK_VERSION</code></li> <li><code>CLIENT_API_KEY</code></li></ul></div> <h2 id="create-user"><a href="#create-user" class="header-anchor">#</a> Create User</h2> <p>To create a user, call the <code>createUser</code> method with the following arguments:</p> <ul><li>Client API Key</li> <li>Customer ID</li></ul> <div class="custom-block danger"><p class="custom-block-title">IMPORTANT</p> <ul><li><code>CUSTOMER_ID</code> Must be <strong>alphanumeric</strong> (no special characters).</li> <li>Should not exceed <strong>64</strong> characters.</li> <li>Must not be <code>null</code> or an empty string <code>&quot;&quot;</code>.</li></ul></div> <p>The response (success or failure) is handled using the <code>FinBoxAuthCallback</code> callback.</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Kotlin
            </li><li> Java
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-kotlin extra-class"><pre class="language-kotlin"><code>FinBox<span class="token punctuation">.</span><span class="token function">createUser</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;CLIENT_API_KEY&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;CUSTOMER_ID&quot;</span></span><span class="token punctuation">,</span>
    <span class="token keyword">object</span> <span class="token operator">:</span> FinBox<span class="token punctuation">.</span><span class="token function">FinBoxAuthCallback</span> <span class="token punctuation">{</span>
        <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span>accessToken<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Authentication is success</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token annotation builtin">@FinBoxErrorCode</span> errorCode<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Authentication failed</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">FinBox</span><span class="token punctuation">.</span><span class="token function">createUser</span><span class="token punctuation">(</span><span class="token string">&quot;CLIENT_API_KEY&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CUSTOMER_ID&quot;</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">FinBox<span class="token punctuation">.</span>FinBoxAuthCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">String</span> accessToken<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Authentication is success</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token annotation punctuation">@FinBoxErrorCode</span> <span class="token keyword">int</span> error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Authentication failed</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></div> <p>You can read about the errors in the <a href="/device-connect/error-codes.html">Error Codes</a> section.</p> <h2 id="start-periodic-sync"><a href="#start-periodic-sync" class="header-anchor">#</a> Start Periodic Sync</h2> <p>The startPeriodicSync method should be invoked only after receiving a successful response from the <code>createUser</code> method callback. This method initiates background syncing for all data sources based on the permissions granted by the user. Data is synced at regular intervals in the background, ensuring continuous and seamless data collection.</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Kotlin
            </li><li> Java
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> finbox <span class="token operator">=</span> <span class="token function">FinBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
finbox<span class="token punctuation">.</span><span class="token function">startPeriodicSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">FinBox</span> finbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FinBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
finbox<span class="token punctuation">.</span><span class="token function">startPeriodicSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></div> <div class="custom-block tip"><p class="custom-block-title">RECOMMENDATION</p> <p>To handle cross-login scenarios:</p> <p>When a user logs back into the app with fresh credentials:</p> <ul><li>Call the <code>createUser</code> method to register the new user.</li> <li>Follow it by <code>startPeriodicSync</code> to resume data syncing for the new user.
Even though the SDK automatically adapts to a new user, this approach minimizes potential delays in syncing during the first session</li></ul></div> <h2 id="match-details-on-device"><a href="#match-details-on-device" class="header-anchor">#</a> Match Details on Device</h2> <p>Device matching enables additional pattern recognition to match email, phone numbers and name. The matching happens on the device and the user phone numbers, email addresses won't leave the device.</p> <p>Create the builder by passing email address, phone number and name of the customer.</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Kotlin
            </li><li> Java
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> deviceMatch <span class="token operator">=</span> DeviceMatch<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span> <span class="token punctuation">{</span>
    <span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;useremail@gmail.com&quot;</span></span><span class="token punctuation">)</span>
    <span class="token function">setName</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;Full Name&quot;</span></span><span class="token punctuation">)</span>
    <span class="token function">setPhone</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;9999999999&quot;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">DeviceMatch<span class="token punctuation">.</span>Builder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DeviceMatch<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">&quot;useremail@gmail.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;Full Name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setPhone</span><span class="token punctuation">(</span><span class="token string">&quot;9999999999&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token class-name">DeviceMatch</span> deviceMatch <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></div> <p>Once the in-device values are set, call <code>setDeviceMatch</code> before starting the syncs.</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Kotlin
            </li><li> Java
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-kotlin extra-class"><pre class="language-kotlin"><code>finbox<span class="token punctuation">.</span><span class="token function">setDeviceMatch</span><span class="token punctuation">(</span>deviceMatch<span class="token punctuation">)</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-java extra-class"><pre class="language-java"><code>finbox<span class="token punctuation">.</span><span class="token function">setDeviceMatch</span><span class="token punctuation">(</span>deviceMatch<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></div> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>For Device Match to work at full potential, the SDK expects <code>android.permission.READ_CONTACTS</code>, <code>android.permission.GET_ACCOUNTS</code>, <code>android.permission.READ_SMS</code> to be accepted by the user.</p></div> <h2 id="forward-notifications-to-sdk"><a href="#forward-notifications-to-sdk" class="header-anchor">#</a> Forward Notifications to SDK</h2> <p>Certain phone manufacturers, implement aggressive battery optimization features that kill apps running in the background after a certain period of inactivity. This can prevent the DeviceConnect SDK's continuous syncing from functioning properly, as it relies on background data collection. In such cases, FinBox’s server may need to request data from the SDK when continuous sync has stopped.</p> <p>To enable this functionality, we use Firebase Cloud Messaging (FCM) notifications process. Forwarding these notifications allows the app to &quot;wake up&quot; if it has been killed by the device’s background processes, ensuring continuous data collection. When the app receives an FCM notification, it &quot;wakes up&quot; and continues collecting the necessary data for integration.</p> <p>Add the following lines inside the overridden <code>onMessageReceived</code> method available in the service that extends <code>FirebaseMessagingService</code>.</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Kotlin
            </li><li> Java
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>MessagingService<span class="token punctuation">.</span><span class="token function">forwardToFinBoxSDK</span><span class="token punctuation">(</span>remoteMessage<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> firebaseMessagingService <span class="token operator">=</span> <span class="token function">MessagingService</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    firebaseMessagingService<span class="token punctuation">.</span><span class="token function">onMessageReceived</span><span class="token punctuation">(</span>remoteMessage<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// Rest of your FCM logic</span>
<span class="token punctuation">}</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">MessagingService</span><span class="token punctuation">.</span><span class="token function">forwardToFinBoxSDK</span><span class="token punctuation">(</span>remoteMessage<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">MessagingService</span> firebaseMessagingService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MessagingService</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    firebaseMessagingService<span class="token punctuation">.</span><span class="token function">onMessageReceived</span><span class="token punctuation">(</span>remoteMessage<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// Rest of your FCM logic</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div> <h2 id="multi-process-support"><a href="#multi-process-support" class="header-anchor">#</a> Multi-Process Support</h2> <p>DeviceConnect uses a <strong>content provider</strong> to automatically initialize the SDK. However, Android has a limitation: in multi-process applications, <strong>content providers are only initialized in the main process</strong>. This means that any SDK calls from other processes may result in <strong>unstable behavior</strong></p> <p>If you need to use the SDK in a process <strong>other than the main process</strong>, you must:</p> <ol><li>Remove the auto-initializing content provider.</li> <li>Manually initialize the SDK in the required processes</li></ol> <h3 id="remove-the-content-provider"><a href="#remove-the-content-provider" class="header-anchor">#</a> Remove the Content Provider</h3> <p>Remove the content provider from your <code>AndroidManifest.xml</code> file using the following snippet:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>provider</span>
    <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>in.finbox.mobileriskmanager.init.AutoInitProvider<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>authorities</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>in.finbox.lenderapplication.riskmanagerprovider<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>enabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>exported</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">tools:</span>node</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>remove<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><h3 id="initialize-the-sdk"><a href="#initialize-the-sdk" class="header-anchor">#</a> Initialize the SDK</h3> <p>After removing the auto-initializing content provider, you must manually initialize the FinBox SDK in your app. This ensures the SDK is properly set up whenever the app starts</p> <p>Open your app’s custom Application class. Override the <code>onCreate</code> method in the Application class and add the Finbox SDK initialization code.</p> <p>Use the following example as a guide:</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Kotlin
            </li><li> Java
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-kotlin extra-class"><pre class="language-kotlin"><code>FinBox<span class="token punctuation">.</span><span class="token function">initLibrary</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">FinBox</span><span class="token punctuation">.</span><span class="token function">initLibrary</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></div> <h2 id="cancel-periodic-sync"><a href="#cancel-periodic-sync" class="header-anchor">#</a> Cancel Periodic Sync</h2> <p>Make sure to cancel data synchronization tasks when the user logs out of the app by using the <code>stopPeriodicSync</code> method. This ensures that no background sync operations continue unnecessarily, maintaining data security.</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Kotlin
            </li><li> Java
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-kotlin extra-class"><pre class="language-kotlin"><code>finbox<span class="token punctuation">.</span><span class="token function">stopPeriodicSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-java extra-class"><pre class="language-java"><code>finbox<span class="token punctuation">.</span><span class="token function">stopPeriodicSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></div> <h2 id="handle-sync-frequency"><a href="#handle-sync-frequency" class="header-anchor">#</a> Handle Sync Frequency</h2> <p>By default, the sync frequency is set to <strong>8 hours</strong>. You can customize this frequency by calling the <code>setSyncFrequency</code> method and passing your preferred interval <strong>in seconds</strong> as an argument. Ensure this method is invoked after the user is created</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Kotlin
            </li><li> Java
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-kotlin extra-class"><pre class="language-kotlin"><code>finbox<span class="token punctuation">.</span><span class="token function">setSyncFrequency</span><span class="token punctuation">(</span><span class="token number">12</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">)</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-java extra-class"><pre class="language-java"><code>finbox<span class="token punctuation">.</span><span class="token function">setSyncFrequency</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></div> <h2 id="reset-user-data"><a href="#reset-user-data" class="header-anchor">#</a> Reset User Data</h2> <p>If you need to clear a user's data stored on the device and initiate a fresh data sync, use the <code>resetData</code> method. This ensures that all previous data is removed, and syncing starts from scratch.</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Kotlin
            </li><li> Java
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-kotlin extra-class"><pre class="language-kotlin"><code>FinBox<span class="token punctuation">.</span><span class="token function">resetData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">FinBox</span><span class="token punctuation">.</span><span class="token function">resetData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></div> <h2 id="forget-user"><a href="#forget-user" class="header-anchor">#</a> Forget User</h2> <p>If a user requests to be forgotten, use the <code>forgetUser</code> method. This will delete all user details from our system, ensuring this meets digital guidelines for right to be forgotten.</p> <div class="code-switcher"><div class="tab-header"><ul><li class="active"> Kotlin
            </li><li> Java
            </li></ul></div> <div class="tab-content" style="display:;"><div class="language-kotlin extra-class"><pre class="language-kotlin"><code>FinBox<span class="token punctuation">.</span><span class="token function">forgetUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div><div class="tab-content" style="display:none;"><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">FinBox</span><span class="token punctuation">.</span><span class="token function">forgetUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></div> <div class="custom-block tip"><p class="custom-block-title">RECOMMENDATION</p> <ul><li>When a user logs out, call both <code>stopPeriodicSync</code> and <code>resetData</code>  to:
<ul><li>Stop any ongoing periodic sync processes.</li> <li>Clear existing user data.
This approach ensures a clean state before the next user session.</li></ul></li></ul></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/27/2024, 2:19:24 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/device-connect/permissions.html" class="prev">
        Handling Permissions
      </a></span> <span class="next"><a href="/device-connect/react-native.html">
        React Native SDK setup
      </a>
      →
    </span></p></div> <div class="footer" data-v-692ea4ed><p data-v-692ea4ed><span class="item" data-v-692ea4ed>Copyright © 2024</span> <span class="item" data-v-692ea4ed>Moshpit Technologies Pvt. Ltd.</span></p></div></main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b24aae89.js" defer></script><script src="/assets/js/4.7f609412.js" defer></script><script src="/assets/js/2.a409744d.js" defer></script><script src="/assets/js/1.9be25c31.js" defer></script><script src="/assets/js/45.dd742fda.js" defer></script><script src="/assets/js/24.440f9dc2.js" defer></script>
  </body>
</html>
